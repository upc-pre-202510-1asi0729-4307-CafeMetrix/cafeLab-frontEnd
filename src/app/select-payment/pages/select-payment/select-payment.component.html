  <div class="payment-container">
  <mat-card class="payment-card">
    <mat-card-header>
      <button mat-button routerLink="/planes" class="back-button">
        <mat-icon>arrow_back</mat-icon>
        Volver a planes
      </button>
      <mat-card-title>Proceso de Pago</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="content-wrapper">
        <!-- Plan info a la izquierda -->
        <div class="left-section">
          <app-plan-card-component></app-plan-card-component>
        </div>

        <!-- Formulario de pago a la derecha -->
        <div class="right-section">
          <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()" class="payment-form">
            <h3>Complete sus datos</h3>

            <div class="card-selection">
              <div class="card-option" [class.selected]="selectedCard === 'visa'" (click)="selectCard('visa')">
                <img src="../../../assets/logo-visa.png" alt="Visa">
              </div>
              <div class="card-option" [class.selected]="selectedCard === 'mastercard'" (click)="selectCard('mastercard')">
                <img src="../../../assets/mastercard-logo.png" alt="Mastercard" style="max-width: 100px;">
              </div>
            </div>

            <div class="form-field">
              <label>Email</label>
              <mat-form-field appearance="outline" class="full-width">
                <input matInput type="email" formControlName="email" placeholder="example@com">
                <mat-error *ngIf="paymentForm.get('email')?.invalid">{{getErrorMessage('email')}}</mat-error>
              </mat-form-field>
            </div>

            <div class="form-field">
              <label>Número de tarjeta</label>
              <mat-form-field appearance="outline" class="full-width">
                <input matInput formControlName="cardNumber" placeholder="0000 0000 0000 0000">
                <mat-error *ngIf="paymentForm.get('cardNumber')?.invalid">{{getErrorMessage('cardNumber')}}</mat-error>
              </mat-form-field>
            </div>

            <div class="form-row">
              <div class="form-field half-width">
                <label>Fecha de expiración</label>
                <mat-form-field appearance="outline">
                  <input matInput formControlName="expiryDate" placeholder="MM/YY">
                  <mat-error *ngIf="paymentForm.get('expiryDate')?.invalid">{{getErrorMessage('expiryDate')}}</mat-error>
                </mat-form-field>
              </div>

              <div class="form-field half-width">
                <label>CVC</label>
                <mat-form-field appearance="outline">
                  <input matInput formControlName="cvc" placeholder="CVC">
                  <mat-error *ngIf="paymentForm.get('cvc')?.invalid">{{getErrorMessage('cvc')}}</mat-error>
                </mat-form-field>
              </div>
            </div>

            <div class="form-field">
              <label>Nombre del titular</label>
              <mat-form-field appearance="outline" class="full-width">
                <input matInput formControlName="cardholderName" placeholder="Nombre completo">
                <mat-error *ngIf="paymentForm.get('cardholderName')?.invalid">{{getErrorMessage('cardholderName')}}</mat-error>
              </mat-form-field>
            </div>

            <div class="form-field">
              <label>País</label>
              <mat-form-field appearance="outline" class="full-width">
                <mat-select formControlName="country">
                  <mat-option *ngFor="let country of countries" [value]="country">
                    {{country}}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="paymentForm.get('country')?.invalid">{{getErrorMessage('country')}}</mat-error>
              </mat-form-field>
            </div>

            <button mat-raised-button type="submit" [disabled]="paymentForm.invalid" class="submit-button">
              Continuar
            </button>
          </form>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
